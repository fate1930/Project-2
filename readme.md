# Project2设计文档 张璐 19302010023

## 主要界面

### index.php

主页面，未登录状态下右上显示Login指向指向登录页面进行登录，且该情况下无法访问mycollection、mypicture、upload三个页面，登陆之后可以访问以上三个界面，且有Log Out的按钮跳转至登录界面进行宠信登录（以下所有类似界面均有此效果）。回到顶部按钮可以回到页面顶部，图片区域展示热门图片6张，刷新后随机展示图片且位置定格在图片区域，点击图片会进入图片详情界面（下同）。

### register.php

用于进行注册，用户信息提交到数据库储存，密码有经过加盐，注册后跳转至登录界面。

### login.php

用于登录并且保存登录信息，登陆之后跳转至主页界面。

### browser.php

分条目对图片库进行搜索以展示图片，联动搜索对主题、国家、城市进行搜索，其中城市类型由国家进行决定，左方热门搜索，选取图片库中相对应类型较多的几个目标进行展示，搜索方式则通过模糊搜索，搜索字目应当包含于主题的名称，展示图片一页为16张，超出16张则放在第二页展示，最多展示5页（下同）。

### search.php

对标题或者描述对照片进行搜索，两个搜索在一次搜索中只能选取一个，搜索后将照片及相关信息展示于下方。

### details.php

对图片进行详细描述，展示收藏该图片的用户数目，可以对图片进行收藏操作，对已收藏图片可以进行取消收藏的操作。

### upload.php

对图片信息进行上传，若从mypicture页面跳转，则在页面中填写图片的相关信息，无法在进行upload其他图片的操作，上传之后更改数据库中原有对应条目的信息，若否，则可以对图片进行上传，填写相关信息并上传至数据库，增添条目保存图片相关信息，上传或更改完毕之后跳转至mypicture页面。

### mypicture.php

对已有图片进行删除以及修改，经过Modify按钮可跳转至upload页面修改图片信息，delete按钮则直接将图片信息删除，若没有上传过照片，则有文字提示进行上传。

### mycollection.php

展示当前用户已经上传的照片，可通过delete对收藏图片信息进行删除。

## 非界面文件

### browser1.php

对国家以及城市的二级联动进行处理，返回相关所需信息。

### browser2.php

对搜索title的文本进行处理。

### login1.php

对登录表单信息进行处理。

### register1.php

对注册表单信息进行处理。

### search1.php

对上传的文本或者文本域按照情况进行分别处理。

### mypicture1.php

对上传照片进行删除处理。

### mycollection1.php

对收藏照片进行删除处理。

### upload1.php

对上传图片以及信息，分别从数据库进行修改、增添的操作。

### logout.php

对用户进行登出操作，并且删除当前用户在网页上的信息。

### selfchange.php

用于判断当前页面是否有用户登录，从而对右上角个人中心情况进行改变。

## Bonus完成情况

### 哈希加盐

在注册界面中，对于用户所设定的密码，先使用rand()函数生成随机盐，将其与密码结合后，使用sha1()的方法进行哈希加盐，将加密后的密码以及盐值同时存入数据库，在登录界面中，取出盐值，使用相同方法获得字符串与存储的加密密码进行比对来实现登录。

### 前端工具使用

使用了少量的jquery来进行架构二级联动的方法，同时是用ajax的方法将数据进行处理，此方法可以更好地将页面上所填写的数据进行即时的处理来实现无需页面跳转的方法，以及js和php之间的联动。

### 服务器架构

使用宝塔进行服务器的架构以及处理。

## 对本门课的建议

没有什么特别的建议，只是服务器那个备案时间来不及蛮尴尬的qwq。